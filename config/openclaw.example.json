{
  "gateway": {
    "mode": "local",
    "bind": "loopback",
    "auth": {
      "mode": "token",
      "rateLimit": {
        "maxAttempts": 5,
        "windowMs": 60000,
        "lockoutMs": 300000
      }
    }
  },

  "identity": {
    "name": "Tango",
    "theme": "Assistente pessoal do Lucas. Responde em portugues brasileiro. Direto, util, sem enrolacao.",
    "emoji": "ðŸ¥­"
  },

  "session": {
    "dmScope": "per-channel-peer",
    "reset": {
      "mode": "idle",
      "idleMinutes": 120
    }
  },

  "channels": {
    "telegram": {
      "enabled": true,
      "dmPolicy": "allowlist",
      "allowFrom": ["tg:SEU_TELEGRAM_USER_ID"],
      "groupPolicy": "disabled",
      "streaming": "partial",
      "historyLimit": 50,
      "mediaMaxMb": 20
    }
  },

  "agents": {
    "defaults": {
      "model": {
        "primary": "anthropic/claude-haiku-4-5",
        "fallbacks": ["anthropic/claude-sonnet-4-6"]
      },
      "models": {
        "anthropic/claude-opus-4-6": {
          "alias": "opus",
          "params": { "cacheRetention": "long" }
        },
        "anthropic/claude-sonnet-4-6": {
          "alias": "sonnet",
          "params": { "cacheRetention": "long" }
        },
        "anthropic/claude-haiku-4-5": {
          "alias": "haiku",
          "params": { "cacheRetention": "short" }
        }
      },
      "contextTokens": 100000,
      "thinkingDefault": "low",
      "timeoutSeconds": 120,
      "compaction": {
        "enabled": true,
        "reserveTokens": 16384,
        "memoryFlush": { "enabled": true }
      },
      "contextPruning": {
        "mode": "cache-ttl",
        "keepLastAssistants": 3,
        "softTrimRatio": 0.3,
        "hardClearRatio": 0.5,
        "softTrim": { "maxChars": 4000, "headChars": 1500, "tailChars": 1500 },
        "hardClear": { "enabled": true }
      },
      "subagents": {
        "maxSpawnDepth": 1,
        "maxConcurrent": 2
      }
    },
    "list": [
      {
        "id": "tango",
        "default": true,
        "model": {
          "primary": "anthropic/claude-haiku-4-5",
          "fallbacks": ["anthropic/claude-sonnet-4-6"]
        },
        "tools": {
          "profile": "messaging",
          "alsoAllow": ["group:memory", "group:web", "sessions_spawn", "cron", "agents_list", "image"],
          "deny": ["gateway", "group:runtime"],
          "exec": { "security": "deny" }
        },
        "skills": ["weather", "gog"],
        "subagents": {
          "allowAgents": ["atlas", "pixel", "hawk", "sentinel"]
        },
        "heartbeat": {
          "every": "30m",
          "activeHours": { "start": "08:00", "end": "24:00" }
        }
      },
      {
        "id": "atlas",
        "model": {
          "primary": "anthropic/claude-haiku-4-5",
          "fallbacks": ["anthropic/claude-sonnet-4-6"]
        },
        "tools": {
          "profile": "messaging",
          "alsoAllow": ["group:memory", "group:web", "image"],
          "deny": ["gateway", "group:runtime"],
          "exec": { "security": "deny" }
        },
        "skills": ["summarize", "gog"],
        "workspace": "workspace-atlas"
      },
      {
        "id": "pixel",
        "model": {
          "primary": "anthropic/claude-sonnet-4-6",
          "fallbacks": ["anthropic/claude-haiku-4-5"]
        },
        "tools": { "profile": "coding" },
        "skills": ["github", "gh-issues"],
        "workspace": "workspace-pixel"
      },
      {
        "id": "hawk",
        "model": {
          "primary": "anthropic/claude-sonnet-4-6",
          "fallbacks": ["anthropic/claude-haiku-4-5"]
        },
        "tools": { "profile": "coding" },
        "skills": ["github", "gh-issues", "session-logs"],
        "workspace": "workspace-hawk"
      },
      {
        "id": "sentinel",
        "model": {
          "primary": "anthropic/claude-sonnet-4-6",
          "fallbacks": ["anthropic/claude-haiku-4-5"]
        },
        "tools": { "profile": "coding" },
        "skills": ["healthcheck", "session-logs"],
        "workspace": "workspace-sentinel"
      }
    ]
  },

  "memorySearch": {
    "provider": "local",
    "query": {
      "maxResults": 10,
      "hybrid": {
        "enabled": true,
        "vectorWeight": 0.7,
        "textWeight": 0.3,
        "mmr": { "enabled": true, "lambda": 0.5 },
        "temporalDecay": { "enabled": true, "halfLifeDays": 90 }
      }
    },
    "sync": { "onSessionStart": true, "onSearch": true }
  },

  "tools": {
    "agentToAgent": {
      "enabled": true,
      "allow": ["tango", "atlas", "pixel", "hawk", "sentinel"]
    },
    "web": {
      "search": { "enabled": true },
      "fetch": { "enabled": true }
    },
    "subagents": {
      "tools": {
        "allow": ["read", "write", "edit", "apply_patch", "exec", "process", "web_search", "web_fetch", "memory_search", "memory_get", "sessions_list", "sessions_history", "sessions_send", "image", "cron", "session_status"]
      }
    },
    "elevated": {
      "enabled": false
    },
    "loopDetection": {
      "enabled": true,
      "historySize": 20,
      "warningThreshold": 3,
      "criticalThreshold": 5
    }
  },

  "cron": {
    "enabled": true
  },

  "logging": {
    "level": "info",
    "redactSensitive": "tools"
  }
}
